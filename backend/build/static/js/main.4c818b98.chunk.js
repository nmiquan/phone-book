(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{24:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var r=t(19),c=t.n(r),o=(t(24),t(10)),a=t(3),u=t(1),i=t(0),s=function(e){var n=e.name,t=e.phone;return Object(i.jsxs)("p",{children:[n," ",t]})},b=function(e){var n=e.personsToShow,t=e.removePerson;return Object(i.jsx)("div",{children:n.map((function(e){return Object(i.jsxs)("span",{children:[Object(i.jsx)(s,{name:e.name,phone:e.number}),Object(i.jsx)("button",{onClick:function(){return t(e.name)},children:"Delete"})]},e.id)}))})},j=function(e){var n=e.savePerson,t=e.newName,r=e.setNewName,c=e.setNewPhonenumber,o=e.newPhonenumber;return Object(i.jsxs)("form",{onSubmit:n,children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:t,onChange:function(e){return r(e.target.value)}})]}),Object(i.jsxs)("div",{children:["number: ",Object(i.jsx)("input",{value:o,onChange:function(e){return c(e.target.value)}})]}),Object(i.jsx)("button",{type:"submit",children:"add"})]})},d=function(e){var n=e.filterName,t=e.setNewFilterName;return Object(i.jsxs)("div",{children:["filter shown with",Object(i.jsx)("input",{value:n,onChange:function(e){return t(e.target.value)}})]})},m=function(e){var n=e.message,t=e.messageType,r={background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"};return r.color=t?"green":"red",""===n?null:Object(i.jsx)("div",{style:r,children:n})},f=t(5),h=t.n(f),l="/api/persons",O=function(){return h.a.get(l).then((function(e){return e.data}))},p=function(e){return h.a.post(l,e).then((function(e){return e.data}))},v=function(e,n){return h.a.put("".concat(l,"/").concat(e),n).then((function(e){return e.data}))},x=function(e){return h.a.delete("".concat(l,"/").concat(e))},w=function(){var e=Object(u.useState)([]),n=Object(a.a)(e,2),t=n[0],r=n[1],c=Object(u.useState)(""),s=Object(a.a)(c,2),f=s[0],h=s[1],l=Object(u.useState)(""),w=Object(a.a)(l,2),g=w[0],N=w[1],S=Object(u.useState)(""),P=Object(a.a)(S,2),k=P[0],y=P[1],C=Object(u.useState)(""),T=Object(a.a)(C,2),D=T[0],B=T[1],E=Object(u.useState)(!0),F=Object(a.a)(E,2),J=F[0],L=F[1];Object(u.useEffect)((function(){O().then((function(e){return r(e)}))}),[]);var z=function(e){for(var n=0;n<t.length;n++)if(t[n].name===e)return t[n]},A=function(e,n){var c=z(e);c.number=n,v(c.id,c).then((function(c){var a=Object(o.a)(t);a.map((function(t){t.name===e&&(t.number=n)})),r(a)})).catch((function(e){B(e.response.data.error),L(!1)}))},I=""===f?t:t.filter((function(e){return e.name.toLowerCase().includes(f.toLowerCase())}));return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Phonebook"}),Object(i.jsx)(m,{message:D,messageType:J}),Object(i.jsx)(d,{filterName:f,setNewFilterName:h}),Object(i.jsx)("h2",{children:"add a new"}),Object(i.jsx)(j,{savePerson:function(e){var n;(e.preventDefault(),n=g,t.some((function(e){return e.name===n})))?window.confirm("".concat(g," is already added to phonebook, replace the old number with a new one?"))&&A(g,k):p({name:g,number:k}).then((function(e){r(t.concat(e)),B("Added ".concat(e.name)),L(!0)})).catch((function(e){B(e.response.data.error),L(!1)}));N(""),y(""),setTimeout((function(){return B("")}),5e3)},newName:g,setNewName:N,newPhonenumber:k,setNewPhonenumber:y}),Object(i.jsx)("h1",{children:"Numbers"}),Object(i.jsx)(b,{personsToShow:I,removePerson:function(e){var n=z(e);if(window.confirm("Delete ".concat(n.name," ?"))){var c=Object(o.a)(t);c.splice(c.indexOf(n),1),r(c),x(n.id)}}})]})};c.a.render(Object(i.jsx)(w,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.4c818b98.chunk.js.map