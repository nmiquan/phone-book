{"version":3,"sources":["components/Person.js","components/Numbers.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","props","name","phone","Numbers","personsToShow","removePerson","map","person","number","onClick","id","PersonForm","savePerson","newName","setNewName","setNewPhonenumber","newPhonenumber","onSubmit","value","onChange","event","target","type","Filter","filterName","setNewFilterName","Notification","message","messageType","style","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseURL","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setMessage","setMessageType","useEffect","PersonService","findPersonByName","i","length","updatePerson","phonenumber","updatedPerson","newPersons","catch","error","filter","toLowerCase","includes","preventDefault","some","window","confirm","createdPerson","concat","setTimeout","splice","indexOf","ReactDOM","render","document","getElementById"],"mappings":"6LAWeA,EATA,SAACC,GACZ,IAAMC,EAAOD,EAAMC,KACbC,EAAQF,EAAME,MAEpB,OACI,8BAAID,EAAJ,IAAWC,MCWJC,EAfC,SAACH,GACb,IAAMI,EAAgBJ,EAAMI,cACtBC,EAAeL,EAAMK,aAC3B,OACE,8BACGD,EAAcE,KAAI,SAAAC,GAAM,OACvB,iCACE,cAAC,EAAD,CAAQN,KAAMM,EAAON,KAAMC,MAAOK,EAAOC,SACzC,wBAAQC,QAAS,kBAAMJ,EAAaE,EAAON,OAA3C,sBAFSM,EAAOG,UCcbC,EArBI,SAACX,GAChB,IAAMY,EAAaZ,EAAMY,WACnBC,EAAUb,EAAMa,QAChBC,EAAad,EAAMc,WACnBC,EAAoBf,EAAMe,kBAC1BC,EAAiBhB,EAAMgB,eACjC,OACI,uBAAMC,SAAUL,EAAhB,UACI,yCACU,uBAAOM,MAAOL,EACPM,SAAU,SAACC,GAAD,OAAWN,EAAWM,EAAMC,OAAOH,aAE9D,2CACY,uBAAOA,MAAOF,EACPG,SAAU,SAACC,GAAD,OAAWL,EAAkBK,EAAMC,OAAOH,aAEvE,wBAAQI,KAAK,SAAb,qBCJOC,EAZA,SAACvB,GACZ,IAAMwB,EAAaxB,EAAMwB,WACnBC,EAAmBzB,EAAMyB,iBAC/B,OACE,oDACmB,uBAAOP,MAAOM,EAAYL,SACvC,SAACC,GAAD,OAAWK,EAAiBL,EAAMC,OAAOH,cCkBtCQ,EAxBM,SAAC1B,GAClB,IAAM2B,EAAU3B,EAAM2B,QAChBC,EAAc5B,EAAM4B,YACpBC,EAAQ,CACVC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAOlB,OAJAN,EAAK,MAAYD,EACf,QACA,MAEc,KAAZD,EAAuB,KAEvB,qBAAKE,MAAOA,EAAZ,SACKF,K,gBClBPS,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAAC/B,EAAIgC,GAGhB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwB1B,GAAMgC,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAO9B,EAJA,SAAA/B,GACX,OAAO2B,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2B1B,KC4GvBoC,EA3HH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRC,EADQ,KACCC,EADD,OAEyBF,mBAAS,IAFlC,mBAERvB,EAFQ,KAEIC,EAFJ,OAGgBsB,mBAAS,IAHzB,mBAGRlC,EAHQ,KAGCC,EAHD,OAI8BiC,mBAAS,IAJvC,mBAIR/B,EAJQ,KAIQD,EAJR,OAKgBgC,mBAAS,IALzB,mBAKRpB,EALQ,KAKCuB,EALD,OAMwBH,oBAAS,GANjC,mBAMRnB,EANQ,KAMKuB,EANL,KAQhBC,qBAAU,WACRC,IAEGd,MAAK,SAAAhC,GAAM,OAAI0C,EAAW1C,QAC5B,IAEH,IAIM+C,EAAmB,SAACrD,GACxB,IAAK,IAAIsD,EAAI,EAAGA,EAAIP,EAAQQ,OAAQD,IAClC,GAAIP,EAAQO,GAAGtD,OAASA,EACtB,OAAO+C,EAAQO,IAuCfE,EAAe,SAACxD,EAAMyD,GAI1B,IAAMnD,EAAS+C,EAAiBrD,GAChCM,EAAOC,OAASkD,EAChBL,EACU9C,EAAOG,GAAIH,GAClBgC,MAAK,SAAAoB,GAEJ,IAAMC,EAAU,YAAOZ,GACvBY,EAAWtD,KAAI,SAAAC,GACTA,EAAON,OAASA,IAClBM,EAAOC,OAASkD,MAGpBT,EAAWW,MAEZC,OAAM,SAAAC,GACLZ,EAAWY,EAAMtB,SAASC,KAAKqB,OAC/BX,GAAe,OAgBf/C,EAA+B,KAAfoB,EAClBwB,EACAA,EAAQe,QACN,SAAAxD,GAAM,OAAIA,EAAON,KACA+D,cACAC,SAASzC,EAAWwC,kBAI3C,OACE,gCACE,2CACA,cAAC,EAAD,CAAcrC,QAASA,EAASC,YAAaA,IAC7C,cAAC,EAAD,CAAQJ,WAAYA,EAAYC,iBAAkBA,IAClD,2CACA,cAAC,EAAD,CAAYb,WArFG,SAACQ,GAIhB,IAhBmBnB,GAarBmB,EAAM8C,iBAbejE,EAeHY,EAdXmC,EAAQmB,MAAK,SAAA5D,GAAM,OAAIA,EAAON,OAASA,MAe7BmE,OAAOC,QAAP,UAAkBxD,EAAlB,4EAEb4C,EAAa5C,EAASG,GAOxBqC,EAJe,CACbpD,KAAMY,EACNL,OAAQQ,IAIPuB,MAAK,SAAA+B,GAEJrB,EAAWD,EAAQuB,OAAOD,IAC1BpB,EAAW,SAAD,OAAUoB,EAAcrE,OAClCkD,GAAe,MAEhBU,OAAM,SAAAC,GACLZ,EAAWY,EAAMtB,SAASC,KAAKqB,OAC/BX,GAAe,MAIrBrC,EAAW,IACXC,EAAkB,IAClByD,YAAW,kBACTtB,EAAW,MACb,MAuDcrC,QAASA,EACTC,WAAYA,EACZE,eAAgBA,EAChBD,kBAAmBA,IAC/B,yCACA,cAAC,EAAD,CAASX,cAAeA,EACfC,aAlCQ,SAACJ,GACpB,IAAMM,EAAS+C,EAAiBrD,GAEhC,GADemE,OAAOC,QAAP,iBAAyB9D,EAAON,KAAhC,OACH,CACV,IAAM2D,EAAU,YAAOZ,GACvBY,EAAWa,OAAOb,EAAWc,QAAQnE,GAAS,GAC9C0C,EAAWW,GACXP,EAAqB9C,EAAOG,YC9FlCiE,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.4c818b98.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n    const name = props.name\n    const phone = props.phone\n    \n    return (\n        <p>{name} {phone}</p>\n    )\n}\n\nexport default Person ","import React from 'react'\nimport Person from './Person'\n\nconst Numbers = (props) => {\n    const personsToShow = props.personsToShow\n    const removePerson = props.removePerson \n    return (\n      <div>\n        {personsToShow.map(person => \n          <span key={person.id}>\n            <Person name={person.name} phone={person.number}/>\n            <button onClick={() => removePerson(person.name)}>Delete</button>\n          </span>\n        )}\n      </div>\n    )\n}\n\nexport default Numbers\n","import React from 'react'\n\nconst PersonForm = (props) => {\n    const savePerson = props.savePerson\n    const newName = props.newName\n    const setNewName = props.setNewName\n    const setNewPhonenumber = props.setNewPhonenumber\n    const newPhonenumber = props.newPhonenumber\nreturn (\n    <form onSubmit={savePerson}>\n        <div>\n            name: <input value={newName} \n                         onChange={(event) => setNewName(event.target.value)}/>\n        </div>\n        <div>\n            number: <input value={newPhonenumber} \n                           onChange={(event) => setNewPhonenumber(event.target.value)}/>\n        </div>\n        <button type=\"submit\">add</button>\n    </form>\n)}\n\n\nexport default PersonForm","import React from 'react';\n\nconst Filter = (props) => {\n    const filterName = props.filterName\n    const setNewFilterName = props.setNewFilterName\n    return (\n      <div>\n        filter shown with<input value={filterName} onChange={\n            (event) => setNewFilterName(event.target.value)\n        }/>\n      </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = (props) => {\n    const message = props.message\n    const messageType = props.messageType\n    const style = {\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    style['color'] = messageType\n    ? 'green'\n    : 'red'\n\n    if (message === '') return null\n    return (\n        <div style={style}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n\n// const baseURL = 'http://localhost:3001/api/persons'\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseURL, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    // axios.put(`${baseURL}/${id}`, newObject)\n    const request = axios.put(`${baseURL}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    return axios.delete(`${baseURL}/${id}`)\n}\n\nexport default {\n    getAll, create, update, remove\n}","import React, { useState, useEffect } from 'react'\nimport Numbers from './components/Numbers'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ filterName, setNewFilterName ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newPhonenumber, setNewPhonenumber ] = useState('')\n  const [ message, setMessage ] = useState('')\n  const [ messageType, setMessageType ] = useState(true)\n\n  useEffect(() => {\n    PersonService\n      .getAll()\n      .then(person => setPersons(person))\n  }, [])\n\n  const containPerson = (name) => {\n    return persons.some(person => person.name === name)\n  }\n\n  const findPersonByName = (name) => {\n    for (let i = 0; i < persons.length; i++) {\n      if (persons[i].name === name) {\n        return persons[i]\n      }\n    }\n  }\n\n  const savePerson = (event) => {\n    event.preventDefault()\n\n    if (containPerson(newName)) {\n      const result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if (result) {\n        updatePerson(newName, newPhonenumber)\n      }\n    } else {\n      const person = {\n        name: newName,\n        number: newPhonenumber\n      }\n      PersonService\n        .create(person)\n        .then(createdPerson => {\n          // objects in persons aren't the same\n          setPersons(persons.concat(createdPerson))\n          setMessage(`Added ${createdPerson.name}`)\n          setMessageType(true)\n        })\n        .catch(error => {\n          setMessage(error.response.data.error)\n          setMessageType(false)\n        })\n    }\n\n    setNewName('')\n    setNewPhonenumber('')\n    setTimeout(() =>\n      setMessage(''),\n    5000)\n  }\n\n  const updatePerson = (name, phonenumber) => {\n\n\n    // update person in backend\n    const person = findPersonByName(name)\n    person.number = phonenumber\n    PersonService\n      .update(person.id, person)\n      .then(updatedPerson => {\n        // update person in frontend\n        const newPersons = [...persons]\n        newPersons.map(person => {\n          if (person.name === name) {\n            person.number = phonenumber\n          }\n        })\n        setPersons(newPersons)\n      })\n      .catch(error => {\n        setMessage(error.response.data.error)\n        setMessageType(false)\n      })\n  }\n\n  const removePerson = (name) => {\n    const person = findPersonByName(name)\n    const result = window.confirm(`Delete ${person.name} ?`)\n    if (result) {\n      const newPersons = [...persons]\n      newPersons.splice(newPersons.indexOf(person), 1)\n      setPersons(newPersons)\n      PersonService.remove(person.id)\n    }\n  }\n\n\n  const personsToShow = filterName === '' \n    ? persons \n    : persons.filter(\n        person => person.name\n                        .toLowerCase()\n                        .includes(filterName.toLowerCase())\n      )\n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} messageType={messageType}/>\n      <Filter filterName={filterName} setNewFilterName={setNewFilterName} />\n      <h2>add a new</h2>\n      <PersonForm savePerson={savePerson} \n                  newName={newName} \n                  setNewName={setNewName}\n                  newPhonenumber={newPhonenumber}\n                  setNewPhonenumber={setNewPhonenumber}/>\n      <h1>Numbers</h1>\n      <Numbers personsToShow={personsToShow}\n               removePerson={removePerson}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}